<app-header></app-header>
<!-- <app-sidebar></app-sidebar> -->

<!-- <div id="layoutSidenav" class="pt-3">
    <div id="layoutSidenav_content" class="p-0">
        <main>
            <div class="account-info">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-4 col-md-3">
                            <app-account-sidebar [user_id]="update_user_id" [user_type_id]="update_user_Type_id"></app-account-sidebar>
                        </div>
                        <div class="col-md-9">
                            <div class="divider-top">
                                <div class="row">
                                    <div class="col-sm-12 col-md-12">
                                        <div class="card card-report">
                                            <div class="card-body p-0">
                                                <form>
                                                    <div class="row form-field">
                                                        <div class="filter-column">
                                                            <div class="col-inner">
                                                                <div class="form-group dateTimePicker">
                                                                    <input type="text" class="form-control"
                                                                        [popover]="popTemplate" placement="bottom"
                                                                        [outsideClick]="true"
                                                                        #startpopoverRef="bs-popover"
                                                                        value="{{startdateTime | date:'yyyy-MM-dd HH:mm:ss '}}" (click)="showDate()">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="filter-column">
                                                            <div class="col-inner">
                                                                <div class="form-group dateTimePicker">
                                                                    <input type="text" class="form-control"
                                                                        [popover]="popTemplate1" placement="bottom"
                                                                        [outsideClick]="true"
                                                                        #endpopoverRef="bs-popover"
                                                                        value="{{enddateTime | date:'yyyy-MM-dd HH:mm:ss '}}"
                                                                        (click)="showDate()">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="filter-column">

                                                            <ng-select [ngModelOptions]="{standalone: true}"
                                                                [(ngModel)]="searchSport"
                                                                (change)="getProfitLossFilterData(0,searchSport.sport_id,searchSport.sport_name,'filterBtnClick') "
                                                                (blur)="getProfitLossFilterData(0,searchSport.sport_id,searchSport.sport_name,'filterBtnClick')"
                                                                placeholder="Search Sport Name"
                                                                (clear)="getProfitLossFilterData(0,undefined,undefined,'filterBtnClick')">
                                                                <ng-option *ngFor="let sport of SportList"
                                                                    [value]="sport">{{sport.sport_name}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="filter-column">
                                                            <ng-select [ngModelOptions]="{standalone: true}"
                                                                [(ngModel)]="searchSeries"
                                                                (change)="getProfitLossFilterData(1,searchSeries.series_id,searchSeries.series_name,'filterBtnClick') "
                                                                (blur)="getProfitLossFilterData(1,searchSeries.series_id,searchSeries.series_name,'filterBtnClick')"
                                                                placeholder="Search Series Name"
                                                                (clear)="getProfitLossFilterData(1,undefined,undefined,'filterBtnClick')">
                                                                <ng-option *ngFor="let series of SeriesList"
                                                                    [value]="series">{{series.series_name}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="filter-column">
                                                            <ng-select [ngModelOptions]="{standalone: true}"
                                                                [(ngModel)]="searchMatch"
                                                                (change)="getProfitLossFilterData(2,searchMatch.match_id,searchMatch.match_name,'filterBtnClick') "
                                                                (blur)="getProfitLossFilterData(2,searchMatch.match_id,searchMatch.match_name,'filterBtnClick')"
                                                                placeholder="Search Match Name"
                                                                (clear)="getProfitLossFilterData(2,undefined,undefined,'filterBtnClick')">
                                                                <ng-option *ngFor="let match of MatchList"
                                                                    [value]="match">{{match.match_name}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="filter-column">
                                                            <ng-select [ngModelOptions]="{standalone: true}"
                                                                [(ngModel)]="searchMarket"
                                                                (change)="(searchMarket.type == '1') ? getProfitLossFilterData(3,searchMarket.event_id,searchMarket.event_name,'filterBtnClick') : getProfitLossFilterData(4,searchMarket.event_id,searchMarket.event_name,'filterBtnClick') "
                                                                (blur)="(searchMarket.type == '1') ? getProfitLossFilterData(3,searchMarket.event_id,searchMarket.event_name,'filterBtnClick') : getProfitLossFilterData(4,searchMarket.event_id,searchMarket.event_name,'filterBtnClick')"
                                                                placeholder="Search Market Name"
                                                                (clear)="(searchMarket.type == '1') ? getProfitLossFilterData(3,undefined,undefined,'filterBtnClick') :getProfitLossFilterData(4,undefined,undefined,'filterBtnClick')">
                                                                <ng-option *ngFor="let event of MarketList"
                                                                    [value]="event">{{event.event_name}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="filter-column">
                                                            <div class="col-inner text-end">
                                                                <div class="btn-list">
                                                                    <button type="button" class="btn btn-success"
                                                                        (click)="profitLossData('filterBtnClick')">Filter</button>
                                                                    <button type="button" class="btn btn-danger"
                                                                        (mousedown)="onClickClearBtn()">Clear</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 col-md-12">
                                        <div class="card card-accent-primary">
                                            <div class="card-header account-detail-head">
                                                Profit/Loss
                                            </div>

                                            <div class="card-body account-stat-body">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="table-responsive">
                                                            <table class="table table-bordered dataTable no-footer">
                                                                <thead>
                                                                    <tr>
                                                                        <th>S.No.</th>
                                                                        <th>Date</th>
                                                                        <th>Sports | Series</th>
                                                                        <th>Match | Market</th>
                                                                        <th>P | L</th>
                                                                        <th>Commission</th>
                                                                        <th>Net PNL</th>
                                                                        <th>Result</th>
                                                                        <th>ViewBets</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>

                                                                    <tr
                                                                        *ngFor="let profit of profitData| paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: totalItems };let i = index;">
                                                                        <td>{{itemsPerPage *(currentPage-1)+i+1}}</td>
                                                                        <td>
                                                                            <span class="date">{{profit?.result_date|
                                                                                date :'dd-MM-yyyy'}}</span><br>
                                                                            <span class="date">{{profit?.result_date|
                                                                                date :'hh:mm:ss aa'}}</span>
                                                                        </td>
                                                                        <td>
                                                                            <span
                                                                                class="sport-name">{{profit?.sport_name}}</span><br>
                                                                            <span
                                                                                class="series-name">{{profit?.series_name}}</span>
                                                                        </td>
                                                                        <td>
                                                                            <span
                                                                                class="match-name">{{profit?.match_name}}</span><br>
                                                                            <span
                                                                                class="event-name">{{profit?.event_name}}</span>
                                                                        </td>
                                                                        <td
                                                                            [ngClass]="{'red':profit.p_l_full < 0 ,'green':profit.p_l_full >= 0}">
                                                                            {{profit?.p_l_full | number :
                                                                            '0.0-2'}}</td>
                                                                        <td
                                                                            [ngClass]="{'red':profit.commission_full < 0 ,'green':profit.commission_full >= 0}">
                                                                            {{profit?.commission_full | number :
                                                                            '0.0-2'}}</td>
                                                                        <td
                                                                            [ngClass]="{'red':profit.net_pl_full < 0 ,'green':profit.net_pl_full >= 0}">
                                                                            {{profit?.net_pl_full |
                                                                            number : '0.0-2'}}</td>
                                                                        <td>{{profit?.winner_name}}</td>
                                                                        <td><button type="button"
                                                                                class="btn btn-sm btn-success"
                                                                                (click)="goToViewBets(profit)">View
                                                                                Bets</button>&nbsp;&nbsp;
                                                                            <button type="button"
                                                                                class="btn btn-sm btn-success"
                                                                                (click)="goToSportsPl(profit)">P|L</button>
                                                                        </td>
                                                                    </tr>

                                                                    <div *ngIf="profitData.length == 0"
                                                                        style="text-align: center;">
                                                                        No data avalible
                                                                    </div>
                                                                </tbody>
                                                                <tbody>
                                                                    <tr>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td>Total</td>
                                                                        <td [ngClass]="{'red':pl < 0 ,'green':pl >= 0}">
                                                                            {{pl | number : '0.0-2'}}</td>
                                                                        <td
                                                                            [ngClass]="{'red':commission < 0 ,'green':commission >= 0}">
                                                                            {{commission | number :
                                                                            '0.0-2'}}</td>
                                                                        <td
                                                                            [ngClass]="{'red':netPl < 0 ,'green':netPl >= 0}">
                                                                            {{netPl | number : '0.0-2'}}</td>
                                                                        <td></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <div class="report-bottom-paginate">
                                                                <div class="col-inner item-perpage-select">
                                                                    <label>Items per page:</label>

                                                                    <select name="betType" class="form-select"
                                                                        [(ngModel)]="itemsPerPage"
                                                                        [ngModelOptions]="{standalone: true}"
                                                                        aria-label="Default select example"
                                                                        (ngModelChange)="pageChange()">
                                                                        <option selected disabled></option>
                                                                        <option value="50">50</option>
                                                                        <option value="100">100</option>
                                                                        <option value="150">150</option>
                                                                        <option value="200">200</option>
                                                                    </select>
                                                                </div>

                                                                <pagination-controls (pageChange)="pageChange($event)"
                                                                    class="user-list-pagination"></pagination-controls>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<main class="d-none">
    <div class="full-wrap">
        <div class="report-page">
            <div class="closed-user inner-content">
                <div class="page-title">
                    <h3>Profit Loss List</h3>
                    <div class="breadcrumb">
                        <a (click)="goToBack()" class="btn btn-secondary back-btn"><i
                                class="fa fa-arrow-left"></i>Back</a>
                    </div>
                </div>

                <div class="filterDiv">
                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                <div class="row form-field">
                                    <div class="filter-column">
                                        <div class="col-inner">
                                            <div class="form-group dateTimePicker">
                                                <input type="text" class="form-control" [popover]="popTemplate"
                                                    placement="bottom" [outsideClick]="true"
                                                    #startpopoverRef="bs-popover"
                                                    value="{{startdateTime | date:'yyyy-MM-dd HH:mm:ss '}}"
                                                    (click)="showDate()">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="filter-column">
                                        <div class="col-inner">
                                            <div class="form-group dateTimePicker">
                                                <input type="text" class="form-control" [popover]="popTemplate1"
                                                    placement="bottom" [outsideClick]="true" #endpopoverRef="bs-popover"
                                                    value="{{enddateTime | date:'yyyy-MM-dd HH:mm:ss '}}"
                                                    (click)="showDate()">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="filter-column">

                                        <ng-select [ngModelOptions]="{standalone: true}" [(ngModel)]="searchSport"
                                            (change)="getProfitLossFilterData(0,searchSport.sport_id,searchSport.sport_name,'filterBtnClick') "
                                            (blur)="getProfitLossFilterData(0,searchSport.sport_id,searchSport.sport_name,'filterBtnClick')"
                                            placeholder="Search Sport Name"
                                            (clear)="getProfitLossFilterData(0,undefined,undefined,'filterBtnClick')">
                                            <ng-option *ngFor="let sport of SportList" [value]="sport">
                                                {{sport.sport_name}}</ng-option>
                                        </ng-select>
                                    </div>
                                    <div class="filter-column">
                                        <ng-select [ngModelOptions]="{standalone: true}" [(ngModel)]="searchSeries"
                                            (change)="getProfitLossFilterData(1,searchSeries.series_id,searchSeries.series_name,'filterBtnClick') "
                                            (blur)="getProfitLossFilterData(1,searchSeries.series_id,searchSeries.series_name,'filterBtnClick')"
                                            placeholder="Search Series Name"
                                            (clear)="getProfitLossFilterData(1,undefined,undefined,'filterBtnClick')">
                                            <ng-option *ngFor="let series of SeriesList" [value]="series">
                                                {{series.series_name}}</ng-option>
                                        </ng-select>
                                    </div>
                                    <div class="filter-column">
                                        <ng-select [ngModelOptions]="{standalone: true}" [(ngModel)]="searchMatch"
                                            (change)="getProfitLossFilterData(2,searchMatch.match_id,searchMatch.match_name,'filterBtnClick') "
                                            (blur)="getProfitLossFilterData(2,searchMatch.match_id,searchMatch.match_name,'filterBtnClick')"
                                            placeholder="Search Match Name"
                                            (clear)="getProfitLossFilterData(2,undefined,undefined,'filterBtnClick')">
                                            <ng-option *ngFor="let match of MatchList" [value]="match">
                                                {{match.match_name}}</ng-option>
                                        </ng-select>
                                    </div>
                                    <div class="filter-column">
                                        <ng-select [ngModelOptions]="{standalone: true}" [(ngModel)]="searchMarket"
                                            (change)="(searchMarket.type == '1') ? getProfitLossFilterData(3,searchMarket.event_id,searchMarket.event_name,'filterBtnClick') : getProfitLossFilterData(4,searchMarket.event_id,searchMarket.event_name,'filterBtnClick') "
                                            (blur)="(searchMarket.type == '1') ? getProfitLossFilterData(3,searchMarket.event_id,searchMarket.event_name,'filterBtnClick') : getProfitLossFilterData(4,searchMarket.event_id,searchMarket.event_name,'filterBtnClick')"
                                            placeholder="Search Market Name"
                                            (clear)="(searchMarket.type == '1') ? getProfitLossFilterData(3,undefined,undefined,'filterBtnClick') :getProfitLossFilterData(4,undefined,undefined,'filterBtnClick')">
                                            <ng-option *ngFor="let event of MarketList" [value]="event">
                                                {{event.event_name}}</ng-option>
                                        </ng-select>
                                    </div>
                                    <div class="filter-column">
                                        <div class="col-inner">
                                            <div class="form-group mb-0">

                                                <input name="searchUser"
                                                    class="search-input dropdown-toggle form-control"
                                                    id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
                                                    aria-expanded="false" type="text" autocomplete="off"
                                                    [(ngModel)]="searchUser" placeholder="Search User Name...">

                                                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                                    <a class="dropdown-item"
                                                        *ngFor="let sport of userlist |search: searchUser :'user_name'">
                                                        <div class="event-info" (click)="getFancy(sport.match_id)">
                                                            <div class="event-format-strip">
                                                                <div class="event-team">
                                                                    <div class="team-name">{{sport?.user_name}} </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="filter-column">
                                        <div class="col-inner text-end">
                                            <div class="btn-list">
                                                <button type="button" class="btn btn-success"
                                                    (click)="profitLossData('filterBtnClick')">Filter</button>
                                                <button type="button" class="btn btn-danger"
                                                    (mousedown)="onClickClearBtn()">Clear</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="report-table">
                    <table datatable class="table" [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
                        <thead>
                            <tr>
                                <th>S.No.</th>
                                <th>Date</th>
                                <th>Sports | Series</th>
                                <th>Match | Market</th>
                                <th>P | L</th>
                                <th>Commission</th>
                                <th>Net PNL</th>
                                <th>Result</th>
                                <th>ViewBets</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr
                                *ngFor="let profit of profitData| paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: totalItems };let i = index;">
                                <td>{{itemsPerPage *(currentPage-1)+i+1}}</td>
                                <td>
                                    <span class="date">{{profit?.result_date| date :'dd-MM-yyyy'}}</span><br>
                                    <span class="date">{{profit?.result_date| date :'hh:mm:ss aa'}}</span>
                                </td>
                                <td>
                                    <span class="sport-name">{{profit?.sport_name}}</span><br>
                                    <span class="series-name">{{profit?.series_name}}</span>
                                </td>
                                <td>
                                    <span class="match-name">{{profit?.match_name}}</span><br>
                                    <span class="event-name">{{profit?.event_name}}</span>
                                </td>
                                <td [ngClass]="{'red':profit.p_l < 0 ,'green':profit.p_l >= 0}">{{profit?.p_l | number :
                                    '0.0-2'}}</td>
                                <td [ngClass]="{'red':profit.commission < 0 ,'green':profit.commission >= 0}">
                                    {{profit?.commission | number : '0.0-2'}}</td>
                                <td [ngClass]="{'red':profit.net_pl < 0 ,'green':profit.net_pl >= 0}">{{profit?.net_pl |
                                    number : '0.0-2'}}</td>
                                <td>{{profit?.winner_name}}</td>
                                <td><button type="button" class="btn btn-sm btn-success"
                                        (click)="goToViewBets(profit)">View Bets</button>&nbsp;&nbsp;
                                    <button type="button" class="btn btn-sm btn-success"
                                        (click)="goToSportsPl(profit)">P|L</button>
                                </td>
                            </tr>

                            
                            <div *ngIf="profitData.length == 0" style="text-align: center;">
                                No data avalible
                            </div>
                        </tbody>
                        <tbody>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td>Total</td>
                                <td [ngClass]="{'red':pl < 0 ,'green':pl >= 0}">{{pl | number : '0.0-2'}}</td>
                                <td [ngClass]="{'red':commission < 0 ,'green':commission >= 0}">{{commission | number :
                                    '0.0-2'}}</td>
                                <td [ngClass]="{'red':netPl < 0 ,'green':netPl >= 0}">{{netPl | number : '0.0-2'}}</td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="report-bottom-paginate">
                        <div class="col-inner item-perpage-select">
                            <label>Items per page:</label>

                            <select name="betType" class="form-select" [(ngModel)]="itemsPerPage"
                                [ngModelOptions]="{standalone: true}" aria-label="Default select example"
                                (ngModelChange)="pageChange()">
                                <option selected disabled></option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="150">150</option>
                                <option value="200">200</option>
                            </select>
                        </div>

                        <pagination-controls (pageChange)="pageChange($event)" class="user-list-pagination">
                        </pagination-controls>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>


<ng-template #popTemplate>
    <datepicker [hidden]="!isDateVisible" [(ngModel)]="date" [minDate]="minDate" [maxDate]="todayDateTime"
        [showWeeks]="false" (ngModelChange)="updateDate()" (selectionDone)="dateSelectionDone()">
    </datepicker>
    <timepicker [hidden]="!isDateVisible" [(ngModel)]="time" (ngModelChange)="updateTime()" [showMeridian]="isMeridian"
        showSeconds="true">
    </timepicker>

    <div style="padding:5px">
        <span class="btn-group pull-left" style="margin-right:10px;">
            <button type=button class="btn btn-sm btn-info" [hidden]="!isDateVisible" (click)="today()">Today</button>
            <button type=button class="btn btn-sm btn-danger" (click)="clear()">Clear</button>
        </span>
        <span class="btn-group pull-right">
            
            <button type=button class="btn btn-sm btn-success" (click)="close()">Close</button>
        </span> <span class=clearfix></span>
    </div>
</ng-template>
<ng-template #popTemplate1>
    <datepicker [hidden]="!isDateVisible" [(ngModel)]="endDate" [minDate]="date" [maxDate]="todayDateTime"
        [showWeeks]="false" (ngModelChange)="updateEndDate()" (selectionDone)="dateSelectionDone()">
    </datepicker>
    <timepicker [hidden]="!isDateVisible" [(ngModel)]="endTime" (ngModelChange)="updateEndTime()"
        [showMeridian]="isMeridian" showSeconds="true">
    </timepicker>

    <div style="padding:5px">
        <span class="btn-group pull-left" style="margin-right:10px;">
            <button type=button class="btn btn-sm btn-info" [hidden]="!isDateVisible" (click)="today()">Today</button>
            <button type=button class="btn btn-sm btn-danger" (click)="clear()">Clear</button>
        </span>
        <span class="btn-group pull-right">
            <button type=button class="btn btn-sm btn-success" (click)="closeEndDatepicker()">Close</button>
        </span> <span class=clearfix></span>
    </div>
</ng-template> -->



<div id="layoutSidenav" class="pt-3">
    <div id="layoutSidenav_content" class="p-0">
        <main>
            <div class="account-info">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-12 col-md-3">
                            <app-account-sidebar [user_id]="update_user_id" [user_type_id]="update_user_Type_id">
                            </app-account-sidebar>
                        </div>
                        <div class="col-md-9">
                            <div class="row">
                                <div class="col-sm-12 col-md-12">
                                    <div class="card card-report-datepicker">
                                        <div class="card-body card-cal row p-0">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                                        <div class="input-group form-group">
                                                            <label for="type" style="width: 100%;">From</label>
                                                            <input type="text" class="form-control" [popover]="popTemplate"
                                                                placement="bottom" [outsideClick]="true"
                                                                #startpopoverRef="bs-popover"
                                                                value="{{startdateTime | date:'yyyy-MM-dd HH:mm:ss'}}"
                                                                (click)="showDate()">
                                                            <div class="input-group-append"><button
                                                                    class="btn btn-secondary" type="button"><i
                                                                        class="fa-solid fa-calendar-days"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                                        <div class="input-group form-group">
                                                            <label for="type" style="width: 100%;">To</label>
                                                            <input type="text" class="form-control" [popover]="popTemplate1"
                                                                placement="bottom" [outsideClick]="true"
                                                                #endpopoverRef="bs-popover"
                                                                value="{{enddateTime | date:'yyyy-MM-dd HH:mm:ss'}}"
                                                                (click)="showDate()">
                                                            <div class="input-group-append">
                                                                <button class="btn btn-secondary" type="button">
                                                                    <i class="fa-solid fa-calendar-days"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                                        <div class="form-group">
                                                            <label for="type" style="width: 100%;">&nbsp;</label>
                                                            <button class="btn btn-primary" type="button"
                                                                (click)="rerender()"><strong>Get P&L</strong></button>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="header-tab bg-tab btr-5">
                                <h3>Profit Loss</h3>
                            </div>
                            <div class="card mb-4">
                                <div class="card-body">
                                    <table id="datatablesSimple" class="dataTable-table no-footer" datatable
                                        [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
                                        <!-- <thead>
                                            <tr>
                                                <th>Sport Name</th>
                                                <th>Profit/Loss</th>
                                                <th>Commission</th>
                                                <th>Total P&L</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let profit of profitData| paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: totalItems };let i = index;">
                                                <td>{{profit?.sport_name}}</td>
                                                <td [ngClass]="{'red':profit.p_l_full < 0 ,'green':profit.p_l_full >= 0}">
                                                    {{profit?.p_l_full | number : '0.0-2'}}
                                                </td>
                                                <td [ngClass]="{'red':profit.commission_full < 0 ,'green':profit.commission_full >= 0}">
                                                    {{profit?.commission_full | number : '0.0-2'}}
                                                </td>
                                                <td [ngClass]="{'red':profit.net_pl_full < 0 ,'green':profit.net_pl_full >= 0}">
                                                    {{profit?.net_pl_full | number : '0.0-2'}}
                                                </td>
                                            </tr>
                                            <tr *ngIf="profitData?.length == 0">
                                                No Record Found...
                                            </tr>
                                        </tbody> -->
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<ng-template #popTemplate>
    <datepicker [hidden]="!isDateVisible" [(ngModel)]="date" [minDate]="minDate" [maxDate]="todayDateTime"
        [showWeeks]="false" (ngModelChange)="updateDate()" (selectionDone)="dateSelectionDone()">
    </datepicker>
    <timepicker [hidden]="!isDateVisible" [(ngModel)]="time" (ngModelChange)="updateTime()" [showMeridian]="isMeridian"
        showSeconds="true">
    </timepicker>

    <div style="padding:5px">
        <span class="btn-group pull-left" style="margin-right:10px;">
            <button type=button class="btn btn-sm btn-info" [hidden]="!isDateVisible" (click)="today()">Today</button>
            <button type=button class="btn btn-sm btn-danger" (click)="clear()">Clear</button>
        </span>
        <span class="btn-group pull-right">

            <button type=button class="btn btn-sm btn-success" (click)="close()">Close</button>
        </span> <span class=clearfix></span>
    </div>
</ng-template>

<ng-template #popTemplate1>
    <datepicker [hidden]="!isDateVisible" [(ngModel)]="endDate" [minDate]="date" [maxDate]="todayDateTime"
        [showWeeks]="false" (ngModelChange)="updateEndDate()" (selectionDone)="dateSelectionDone()">
    </datepicker>
    <timepicker [hidden]="!isDateVisible" [(ngModel)]="endTime" (ngModelChange)="updateEndTime()"
        [showMeridian]="isMeridian" showSeconds="true">
    </timepicker>

    <div style="padding:5px">
        <span class="btn-group pull-left" style="margin-right:10px;">
            <button type=button class="btn btn-sm btn-info" [hidden]="!isDateVisible" (click)="today()">Today</button>
            <button type=button class="btn btn-sm btn-danger" (click)="clear()">Clear</button>
        </span>
        <span class="btn-group pull-right">
            <button type=button class="btn btn-sm btn-success" (click)="closeEndDatepicker()">Close</button>
        </span> <span class=clearfix></span>
    </div>
</ng-template>